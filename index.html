<!DOCTYPE html>
<html lang="si">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IronShield Defender - Final Pro</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root { 
            --primary: #1a237e; 
            --secondary: #d32f2f; 
            --success: #2e7d32; 
            --bg: #f0f2f5; 
            --card-bg: #ffffff;
        }
        
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background: var(--bg); 
            margin: 0; 
            height: 100vh; 
            overflow: hidden; 
            display: flex; 
            flex-direction: column; 
        }

        .header { 
            background: var(--primary); 
            color: white; 
            padding: 18px; 
            text-align: center; 
            font-weight: 800; 
            font-size: 22px; 
            letter-spacing: 1px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3); 
            flex-shrink: 0; 
        }

        .container { 
            flex-grow: 1; 
            overflow-y: auto; 
            padding: 15px; 
            -webkit-overflow-scrolling: touch; 
        }

        .card { 
            background: var(--card-bg); 
            border-radius: 12px; 
            padding: 15px; 
            margin-bottom: 15px; 
            box-shadow: 0 4px 12px rgba(0,0,0,0.08); 
            border-left: 5px solid var(--primary);
        }

        .point-title { 
            color: var(--secondary); 
            font-weight: bold; 
            font-size: 16px; 
            margin-bottom: 10px; 
            display: flex;
            align-items: center;
            gap: 8px;
        }

        select {
            width: 100%;
            padding: 12px;
            border-radius: 8px;
            border: 1px solid #ccc;
            background-color: #f9f9f9;
            font-size: 15px;
            outline: none;
            cursor: pointer;
            color: #333;
        }

        select:focus {
            border-color: var(--primary);
        }

        .footer { 
            background: white; 
            padding: 15px; 
            border-top: 1px solid #ddd; 
            display: flex; 
            gap: 10px; 
            flex-shrink: 0; 
            box-shadow: 0 -2px 10px rgba(0,0,0,0.05);
        }

        .btn { 
            flex: 1; 
            padding: 15px; 
            border: none; 
            border-radius: 8px; 
            font-weight: bold; 
            font-size: 16px; 
            cursor: pointer; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            gap: 8px; 
            transition: 0.3s;
        }

        .btn-wa { background: var(--success); color: white; }
        .btn-wa:active { background: #1e5e24; transform: scale(0.98); }
        
        .btn-reset { background: #eee; color: #333; }
        .btn-reset:active { background: #ddd; transform: scale(0.98); }
    </style>
</head>
<body>

<div class="header"><i class="fas fa-shield-alt"></i> IRONSHIELD DEFENDER PRO</div>

<div class="container" id="main-container">
    </div>

<div class="footer">
    <button class="btn btn-reset" onclick="confirmReset()"><i class="fas fa-sync"></i> Reset</button>
    <button class="btn btn-wa" onclick="sendWhatsApp()"><i class="fab fa-whatsapp"></i> ‡∂∫‡∑Ä‡∂±‡∑ä‡∂±</button>
</div>

<script>
    // ‡∂±‡∑í‡∂Ω‡∂∞‡∑è‡∂ª‡∑ì‡∂±‡∑ä 35
    const staffNames = [
        "OIC Asanka", "OIC Kumara", "OIC Suranjith", "OIC Samaranayake", "OIC Dayarathne", "OIC Suresh", "OIC Mendis", "OIC Vijithalal", "OIC Rangana", "OIC Sampath",
        "SSO Tharaka", "SSO Jayalath", "SSO Viresh", "SSO Ravi", "SSO Ajith", "SSO Manusha", "SSO Rathnadasa",
        "JSO Prasanna", "JSO Pradeep", "JSO Chandana", "JSO Wijerathne", "JSO Raj", "JSO Dinesh", "JSO Ravindu", "JSO Lokubanda", "JSO Sunil",
        "LOIC Rita", "LSO Nandani", "LSO Seelawathi", "LSO Nalani", "LSO Shanthi", "LSO Nandawathi", "LSO Dilani", "LSO Sriyalatha", "LSO Kumari"
    ];

    // ‡∂¥‡∑ú‡∂∫‡∑í‡∂±‡∑ä‡∂ß‡∑ä 42
    const points = [
        "1. Guard Room (Post 01)", "2. Guard Room (Post 02)", "3. M/E Entry (01)", "4. M/E Entry (02)", "5. Time Office",
        "6. B/C/P (01)", "7. B/C/P (02)", "8. Glass Door", "9. Lobby (01)", "10. Lobby (02)", "11. C/P/R", "12. Doctors Lift",
        "13. Pharmacy (Main)", "14. Pharmacy (OPD)", "15. Pharmacy (Helper)", "16. CCTV New (01)", "17. CCTV New (02)",
        "18. C/P/03", "19. C/P/04", "20. Commercial Hostel", "21. Rounds (01)", "22. Rounds (02)", "23. Kitchen Stores",
        "24. Kitchen", "25. Main Gate", "26. 2nd Basement", "27. SICU", "28. MICU", "29. CCTV Old (01)", "30. CCTV Old (02)",
        "31. Lift Lobby-3F", "32. Lift Lobby-4F", "33. Lift Lobby-5F", "34. Lift Lobby-6F", "35. Fort City", "36. Lady Hostel New",
        "37. Hostel Old", "38. Hostel New", "39. Layanal Banglow", "40. Bambalapitiya Area", "41. Dilan Banglow", "42. Receiving"
    ];

    function buildUI() {
        const container = document.getElementById('main-container');
        let htmlContent = '';

        points.forEach((point) => {
            htmlContent += `
                <div class="card">
                    <div class="point-title"><i class="fas fa-map-marker-alt"></i> ${point}</div>
                    <select class="duty-select" data-point="${point}">
                        <option value="">-- ‡∂±‡∑í‡∂Ω‡∂∞‡∑è‡∂ª‡∑í‡∂∫‡∑ô‡∂ö‡∑î ‡∂≠‡∑ù‡∂ª‡∂±‡∑ä‡∂± --</option>
                        ${staffNames.map(name => `<option value="${name}">${name}</option>`).join('')}
                    </select>
                </div>`;
        });
        container.innerHTML = htmlContent;
    }

    function sendWhatsApp() {
        let msg = "*üõ°Ô∏è IRONSHIELD DEFENDER - DUTY ROSTER*\n";
        msg += "--------------------------------------\n\n";
        let dutyFound = false;
        
        const selects = document.querySelectorAll('.duty-select');
        selects.forEach(select => {
            if(select.value !== "") {
                msg += `üìç *${select.dataset.point}*\nüë§ ${select.value}\n\n`;
                dutyFound = true;
            }
        });

        if(!dutyFound) { 
            alert("‡∂ö‡∂ª‡∑î‡∂´‡∑è‡∂ö‡∂ª ‡∂Ö‡∑Ä‡∂∏ ‡∑Ä‡∑Å‡∂∫‡∑ô‡∂±‡∑ä ‡∂ë‡∂ö‡∑ä ‡∂Ö‡∂∫‡∑ô‡∂ö‡∑î ‡∑Ñ‡∑ù ‡∂≠‡∑ù‡∂ª‡∂±‡∑ä‡∂±!"); 
            return; 
        }
        
        msg += "--------------------------------------\n";
        msg += "_Generated via IronShield Pro_";
        
        const waUrl = `https://wa.me/?text=${encodeURIComponent(msg)}`;
        window.open(waUrl, '_blank');
    }

    function confirmReset() {
        if(confirm("‡∂î‡∂∂‡∂ß ‡∑É‡∑í‡∂∫‡∂Ω‡∑ä‡∂Ω ‡∂â‡∑Ä‡∂≠‡∑ä ‡∂ö‡∂ª ‡∂±‡∑ê‡∑Ä‡∂≠ ‡∂Ü‡∂ª‡∂∏‡∑ä‡∂∑ ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∂ß ‡∂Ö‡∑Ä‡∑Å‡∑ä‚Äç‡∂∫‡∂Ø?")) {
            window.location.reload();
        }
    }

    buildUI();
</script>

</body>
</html>
